在 SequoiaCM 中，文件是支持多版本的，并且每个文件版本有独立的文件元数据以及文件内容。功能上用户可以为已存在的文件增加一个版本、删除已有版本、修改已有版本的文件元数据。为文件增加版本的途径有两个：

1. 通过 File 下的 UpdateContent 接口；

2. 通过 Bucket（开启版本控制） 下的文件上传接口（上传同名文件）

文件删除与多版本
---
SequoiaCM 支持三种文件删除操作：

- 物理文件删除：表示删除文件的所有版本，不可恢复；
- 带版本控制的文件删除：目前仅支持对桶下的文件执行该操作（桶外文件执行该操作将会报错），表示根据桶的版本控制策略进行文件删除：

  - 禁用版本控制：与物理删除表现一致

  - 启用版本控制：产生 Delete Marker 版本，不影响文件现有版本

  - 暂停版本控制：产生 Delete Marker 版本，并删除文件现有版本中的 null 版本

 具体细节参考：[桶的版本控制介绍][bucket_version]

- 删除指定文件版本：不影响文件的其它版本，只删除指定的文件版本

存储结构
--- 
![文件多版本][file_version]

- 工作区所有文件的最新版本元数据保存在 File 集合中，所有文件的历史版本元数据则保存 History File 集合，History File 的分表逻辑与 File 集合一样，遵循工作区的元数据分表策略进行分表。
- 不管是历史版本还是最新版本，其文件内容数据均保存在文件数据表中

[file_version]:Architecture/file_version.png
[bucket_version]:Architecture/Bussiness_Concept/bucket.md
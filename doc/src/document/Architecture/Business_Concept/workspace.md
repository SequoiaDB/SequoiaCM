Workspace （工作区） 用于承载具体业务的逻辑单元，可以存储业务相关性较大的文件等元素。Workspace 一般跟用户业务一一对应。

工作区的元数据存储在元数据服务中，数据可以存储在多个站点的数据服务中，根据具体业务需求指定。

![工作区][workspace_arch]

以上图为例：SequoiaCM 有4个站点，其中一个为主站点，其余三个均为分站点; 工作区有两个，分别为：W1，W2。

* W1 的数据可以落在主站点、分站点1、分站点2上。 

* W2 的数据可以落在主站点、分站点1、分站点2、分站点3上。

>  **Note:** 
>
>  * workspace 内的同一个文件的文件内容，既可以单独存储在一个站点上，也可以冗余存储在多个站点上
>
>  * 在分站点3上可以访问 W2 的数据，但是无法访问 W1 上的数据。

## 文件的存储分区 ##

工作区的文件元数据存储在元数据服务 SequoiaDB 的一个主子表中，该主子表以文件的创建月份作为分区键，每个子表的分区范围由创建工作区时进行指定，支持按月、季、年三种分区范围。  

工作区的文件内容数据存储在各个站点的数据服务中，工作区对不同的数据服务提供了类似的数据分区方式： 

- SequoiaDB：集合空间、集合支持按月、季、年三种划分范围，也可以不划分，即用同一个集合空间存储一个工作区所有文件内容数据。例如：集合空间按年划分，集合按月划分，则每年的文件内容存放在不同的集合空间中，每个集合空间中共有 12 个集合，分别存储 12 个月份的文件内容数据
- Hbase: 支持按月、季、年三种划分范围划分数据表，也可以不划分
- Hdfs：支持按月、季、年三种划分范围划分目录，也可以不划分
- Ceph S3：支持按月、季、年三种划分范围划分 Bucket，支持在 Bucket 内按月、季、年、天四种划分范围划分目录，也可以不划分
- Ceph Swift：支持按月、季、年三种划分范围划分 Container，也可以不划分
- Sftp：支持按月、季、年、天四种划分范围划分存储路径，也可以不划分

>  **Note**
>
>  * 上层业务逻辑并不感知底层文件的存储分区方式，分区仅作为规划底层数据存储的方式。

[workspace_arch]:Architecture/Business_Concept/workspace.png
SequoiaCM 集群中的配置管理由配置服务提供，负责节点配置、业务配置的在线修改，本节主要介绍配置服务的关键流程。

业务配置
---
目前业务配置支持站点、节点的在线创建、删除操作和工作区、自定义元数据模型的在线创建、删除、修改操作。业务配置管理的主要交互流程如下

![业务配置管理][business_config_manage]

业务配置管理整体架构是一个通知订阅的模型：

- 关注业务配置变更的服务节点在启动时，向配置服务发送订阅请求，订阅站点、节点、工作区或自定义元数据模型的配置变更通知

- 当业务配置发生变更时，配置服务依据订阅表，通知对应的订阅者，订阅者根据通知信息重新加载特定的业务配置。

- 订阅者节点定期向配置服务查询业务配置版本主动发现配置的变更，以应对配置服务通知消息发送失败的异常情况。

目前 SequoiaCM 集群中，内容服务向配置服务订阅站点、节点、工作区和自定义元数据模型配置的变更通知，调度服务订阅站点、节点和工作区配置的变更通知。


节点配置
---
目前节点配置支持在线修改审计日志以及 Spring 第三方框架相关的配置参数，其它参数暂不支持在线修改。

- 驱动将指定配置项以及作用的目标节点发送至网关服务，再由网关服务将请求路由至配置服务

- 配置服务将配置项广播至所有目标节点

- 目标节点校验配置项的合法性后，备份本地节点配置文件，并重新生成一份修改后节点配置，最后装载新配置至内存。

[business_config_manage]:Architecture/business_config_manager.png


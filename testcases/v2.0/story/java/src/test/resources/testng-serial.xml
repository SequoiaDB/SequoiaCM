<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<!--this xml is for ci, please don't modify it -->
<!--testcase for function test, which can be excuted concurrently -->
<suite name="scm_story_serial" verbose="1" parallel="classes" thread-count="1">
    <parameter name="FORCECLEAR" value="false"/>
    <parameter name="NTPSERVER" value="192.168.29.80"/>
    <parameter name="DATADIR" value="/tmp/ci_cm"/>
    <parameter name="LOCALHOSTNAME" value="localhost"/>
    <parameter name="SSHUSER" value="root"/>
    <parameter name="SSHPASSWD" value="jenkins"/>
    <!--  元数据服务SDB  -->
    <parameter name="MAINSDBURL" value="mainSiteHostName:11810"/>
    <parameter name="SDBUSER" value="sdbadmin"/>
    <parameter name="SDBPASSWD" value="sequoiadb"/>
    <!--  测试用例1093新建站点使用的SDB,用户密码都是sdbadmin  -->
    <parameter name="NEWSITESDBURL" value="192.168.28.134:11810"/>
    <!--  SCM配置  -->
    <parameter name="SITES" value="XXXX"/>
    <parameter name="RUNBASETEST" value="false"/>
    <parameter name="GATEWAYS" value="GATEWAYURLS"/>
    <parameter name="ROOTSITESVCNAME" value="rootsite"/>
    <parameter name="SCMUSER" value="admin"/>
    <parameter name="SCMPASSWD" value="admin"/>
    <parameter name="SCMPASSWDPATH" value="/opt/dbuser_info"/>
    <!--  SCM om服务  -->
    <parameter name="OMSERVERURL" value="omServerHostName:port"/>
    <!--  LDAP服务  -->
    <parameter name="LDAPUSER" value="ldapadmin"/>
    <parameter name="LDAPPASSWD" value="admin"/>
    <!--  SCM集群包含第三方数据源时需要配置  -->
    <parameter name="CEPHS3SECRETKEY" value="w7iiZFGDf57dY1XBfU8tQJnWZBQzGKApBf2LC6DW"/>
    <parameter name="CEPHSWIFTSECRETKEY" value="XphCjBUNa8Kr4POSAlFBotXaDZSGAJD7NhNhtcu5"/>
    <!--  伪分布式HDFS配置active节点，例hdfs://192.168.25.25:8020,分布式HA部署填zookeeper地址，例192.168.28.132:2181 -->
    <parameter name="HDFSURL" value="scm-test-ci-cent7:2181"/>
    <!--  公共工作区名:分区方式  -->
    <parameter name="COMMONWS" value="ws_year:year,ws_month:month,ws_none:none,ws_quarter:quarter"/>

    <listeners>
        <listener class-name="com.sequoiacm.testcommon.listener.TestScmListener"/>
        <listener class-name="com.sequoiacm.testcommon.listener.GroupListener"/>
    </listeners>

    <test name="parralclass" preserve-order="true">
        <packages>
            <package name="com.sequoiacm.autocreatelobcs.serial"/>
            <package name="com.sequoiacm.reloadconf.serial"/>
            <package name="com.sequoiacm.readcachefile.serial"/>
            <package name="com.sequoiacm.scmfile.serial"/>

            <!--only one task is allowed under a ws -->
            <!--task-->
            <package name="com.sequoiacm.scheduletask.serial"/>

            <!--version-->
            <package name="com.sequoiacm.version.serial"/>
            <!--session-->
            <package name="com.sequoiacm.session.serial"/>
            <!--drivernetpool-->
            <package name="com.sequoiacm.drivernetpool.serial"/>
            <!--rest-->
            <package name="com.sequoiacm.rest.serial"/>
            <!--batch-->
            <package name="com.sequoiacm.batch.serial"/>
            <!--auth-->
            <package name="com.sequoiacm.auth.serial"/>
            <!--ws-->
            <package name="com.sequoiacm.workspace.serial"/>
            <!--monitor-->
            <package name="com.sequoiacm.monitor"/>
            <!--config-->
            <package name="com.sequoiacm.config"/>
            <package name="com.sequoiacm.config.concurrent"/>
            <!--audit-->
            <package name="com.sequoiacm.audit"/>
            <!--big file-->
            <package name="com.sequoiacm.bigfile"/>
            <!--directory -->
            <package name="com.sequoiacm.directory.serial"/>
            <!--fulltext-->
            <package name="com.sequoiacm.fulltextsearch"/>
            <package name="com.sequoiacm.fulltextsearch.concurrent"/>
            <package name="com.sequoiacm.fulltextsearch.serial"/>

            <!--s3-->
            <package name="com.sequoiacm.s3.bucket.serial"/>
            <package name="com.sequoiacm.s3.partupload.serial"/>

            <!-- statistics -->
            <package name="com.sequoiacm.statistics"/>

            <!--S3 bucketDirectory-->
            <package name="com.sequoiacm.s3.bucketDirectory.serial"/>

            <!--sftp-->
            <!--  <package name="com.sequoiacm.sftp.serial"/>-->
            <!--  sftp site is required-->

            <!--生命周期管理-->
            <package name="com.sequoiacm.lifecycle"/>
            <package name="com.sequoiacm.lifecycle.concurrent"/>

            <!-- 问题单1406导致用例随机失败，桶限额用例暂时屏蔽，待问题单修改后放开 -->
            <!--
            <package name="com.sequoiacm.s3.bucketQuota.serial"/>-->

            <!--tool-->
            <package name="com.sequoiacm.tools.serial"/>
        </packages>
    </test>

    <test name="checkRemain">
        <packages>
            <package name="com.sequoiacm.testresource"/>
        </packages>
    </test>
</suite>